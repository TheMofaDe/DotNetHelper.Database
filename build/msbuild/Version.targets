<Project>

<ItemGroup>
    <PackageReference Include="GitInfo" Version="2.0.29">
      <PrivateAssets>all</PrivateAssets>
    </PackageReference>
</ItemGroup>

<Import  Condition="'$(MSBuildProjectExtension)' == '.csproj'"  Project="$(RepoRootPath)\build\msbuild\Cake.Integration.targets"/>
 <!-- This target is replaced by GitInfo when restored. -->
 <!-- <Target Name="GitVersion" /> -->

 <PropertyGroup>
    <PrepareForBuildDependsOn>WriteVersions;$(PrepareForBuildDependsOn)</PrepareForBuildDependsOn>
  </PropertyGroup>

      
  <Target
    Name="WriteVersions"
    DependsOnTargets="SetVersions">
  </Target>

  <Target
    Name="SetVersions"
    DependsOnTargets="GitVersion"
    Returns="$(Version)"
    Condition="'$(GitInfoImported)' == 'true' And '$(ExcludeRestorePackageImports)' != 'true'">



<Message Importance="High" Text="Git Info:
  GitInfoBaseDir:       $(GitInfoBaseDir)
  GitRoot:              $(GitRoot)
  GitRepositoryUrl      $(GitRepositoryUrl)
  GitBranch:            $(GitBranch)
  GitCommit:            $(GitCommit)
  GitSha:               $(GitSha)
  GitBaseVersion:       $(GitBaseVersion)
  GitBaseVersionSource: $(GitBaseVersionSource)
  GitBaseVersionMajor:  $(GitBaseVersionMajor)
  GitBaseVersionMinor:  $(GitBaseVersionMinor)
  GitBaseVersionPatch:  $(GitBaseVersionPatch)
  GitCommits:           $(GitCommits)
  GitTag:               $(GitTag)
  GitBaseTag:           $(GitBaseTag)
  GitSemVerMajor:       $(GitSemVerMajor)
  GitSemVerMinor:       $(GitSemVerMinor)
  GitSemVerPatch:       $(GitSemVerPatch)
  GitSemVerLabel:       $(GitSemVerLabel)
  GitSemVerDashLabel:   $(GitSemVerDashLabel)
  GitSemVerSource:      $(GitSemVerSource)
  GitRemote:            $(GitRemote)
"/>
  </Target>



</Project>